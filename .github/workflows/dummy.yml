name: Dummy Debugger

# è¿è¡Œåç§°ç¤ºä¾‹: "ğŸ” Debug v1.0.0"
run-name: ${{ github.ref_name }} ğŸ” Debug

on:
  push:
    tags:
      - '[0-9]*'
  workflow_dispatch:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

permissions:
  contents: read

jobs:
  dummy-info:
    runs-on: ubuntu-latest

    steps:
      # 1. å…ˆæ‹‰å–ä»£ç ï¼Œè¿™æ ·æ‰èƒ½çœ‹åˆ°æ–‡ä»¶ç»“æ„
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4

      # 2. ä½ åŸæ¥çš„åŸºæœ¬é€»è¾‘
      - name: âœ… Basic Output
        run: |
          echo "All done."
          echo "The running name is ${{ github.ref_name }}."
          echo "The run ID is ${{ github.run_id }}."
          echo "The run number is ${{ github.run_number }}."
          echo "The actor is ${{ github.actor }}."

      # 3. è¾“å‡º GitHub çš„ä¸Šå¸è§†è§’æ•°æ® (éå¸¸æœ‰ç”¨ï¼)
      # ä½¿ç”¨ ::group:: è¯­æ³•å¯ä»¥å°†æ—¥å¿—æŠ˜å èµ·æ¥ï¼Œç‚¹å‡»æ‰ä¼šå±•å¼€
      - name: ğŸ•µï¸ Dump GitHub Context
        run: |
          echo "::group::ğŸ“„ Full GitHub JSON Context"
          echo '${{ toJSON(github) }}'
          echo "::endgroup::"

      # 4. è¾“å‡ºç³»ç»Ÿç¯å¢ƒä¿¡æ¯ (ç¯å¢ƒå˜é‡)
      - name: ğŸ§© Environment Variables
        run: |
          echo "::group::ğŸ”§ All Environment Variables"
          printenv | sort
          echo "::endgroup::"

      # 5. è¾“å‡ºè¿™å°è™šæ‹Ÿæœºçš„ç¡¬ä»¶é…ç½® (çœ‹çœ‹ GitHub ç»™ä½ åˆ†é…äº†å¤šå¥½çš„æœºå™¨)
      - name: ğŸ’» System Hardware Specs
        run: |
          echo "::group::âš™ï¸ Hardware Information"
          echo "=== ğŸ§  CPU Info ==="
          lscpu | head -n 15
          echo ""
          echo "=== ğŸ’¾ Memory Info ==="
          free -h
          echo ""
          echo "=== ğŸ’¿ Disk Space ==="
          df -h
          echo "::endgroup::"

      # 6. è¾“å‡ºæ–‡ä»¶ç›®å½•ç»“æ„
      - name: ğŸ“‚ File System Structure
        run: |
          echo "::group::ğŸ“‚ Current Directory & Files"
          echo "Current Path: $(pwd)"
          echo "--------------------------------"
          ls -R
          echo "::endgroup::"
